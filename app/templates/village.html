{% extends "base.html" %}

{% block title %}{{ village.name }}{% endblock %}

{% block content %}
<h1 class="mb-4">{{ village.name }}</h1>
<p class="lead">{{ village.subtitle }}</p>
<p><em>{{ village.advice }}</em></p>

<h2 class="mt-4 mb-3">Buildings</h2>
<div class="row">
    {% for building in village.buildings %}
    <div class="col-md-4 mb-3">
        <div class="card">
            <div class="card-body">
                <h5 class="card-title">{{ building.name }}</h5>
                <p class="card-text">{{ building.description }}</p>
                <a href="{{ url_for('view_building', building_id=building.id) }}" class="btn btn-primary">Enter Building</a>
            </div>
        </div>
    </div>
    {% endfor %}
</div>

<a href="{{ url_for('add_building', village_id=village.id) }}" class="btn btn-success mt-3">Add New Building</a>
<a href="{{ url_for('edit_village', village_id=village.id) }}" class="btn btn-secondary mt-3 ml-2">Edit Village</a>

<form action="{{ url_for('delete_village', village_id=village.id) }}" method="POST" class="d-inline">
    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"/>
    <button type="submit" class="btn btn-danger mt-3 ml-2" onclick="return confirm('Are you sure you want to delete this village?');">Delete Village</button>
</form>
{% endblock %}